<COMPONENT>
	<HEADER PLATEFORM="ALL" SERIAL="" VERSION="0.102" STATUS="ALPHA"

		COMPATIBILITY="ALL" AUTHOR="Talend" RELEASE_DATE="20091211A"
		STARTABLE="true" TECHNICAL="true">
		<SIGNATURE />
	</HEADER>

	<FAMILIES>
	    <FAMILY>Databases/DB Specifics/Hive</FAMILY>
		<FAMILY>Big Data/Hive</FAMILY>
	</FAMILIES>
	<DOCUMENTATION>
		<URL />
	</DOCUMENTATION>

	<CONNECTORS>
		<CONNECTOR CTYPE="FLOW" MAX_INPUT="0" MAX_OUTPUT="0" />
		<CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="0" MAX_INPUT="0" />
		<CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
		<CONNECTOR CTYPE="COMPONENT_OK" />
		<CONNECTOR CTYPE="COMPONENT_ERROR" />
		<CONNECTOR CTYPE="RUN_IF" />
	</CONNECTORS>

	<PARAMETERS>
		<PARAMETER NAME="USE_EXISTING_CONNECTION" FIELD="CHECK"
			NUM_ROW="5">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="CONNECTION" FIELD="COMPONENT_LIST"
			REQUIRED="true" FILTER="tHiveConnection" NUM_ROW="5"
			SHOW_IF="USE_EXISTING_CONNECTION == 'true'" DYNAMIC_SETTINGS="true" />
			
		<PARAMETER NAME="HIVE" FIELD="HADOOP_DISTRIBUTION" NUM_ROW="10"
            SHOW_IF="(USE_EXISTING_CONNECTION == 'false')" GROUP="VERSION" />

		<!-- HD Insight through HCatalog parameters -->
		<PARAMETER NAME="WEBHCAT_HOST" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="12" GROUP="WEBHCAT_CONF">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="WEBHCAT_PORT" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="12" GROUP="WEBHCAT_CONF">
			<DEFAULT>"443"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="WEBHCAT_USERNAME" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="13" GROUP="WEBHCAT_CONF">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="STATUSDIR" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="14" GROUP="WEBHCAT_CONF">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="HDINSIGHT_USERNAME" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="15" GROUP="HDINSIGHT_CONF">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="HDINSIGHT_PASSWORD" FIELD="PASSWORD"
			REQUIRED="true" NUM_ROW="15" GROUP="HDINSIGHT_CONF">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="WASB_HOST" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="16" GROUP="WASB_CONF">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="WASB_CONTAINER" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="17" GROUP="WASB_CONF">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="WASB_USERNAME" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="18" GROUP="WASB_CONF">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="WASB_PASSWORD" FIELD="PASSWORD" REQUIRED="true"
			NUM_ROW="18" GROUP="WASB_CONF">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="REMOTE_FOLDER" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="19" GROUP="WASB_CONF">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>


		<!-- GOOGLE DATAPROC -->
		<PARAMETER NAME="GOOGLE_PROJECT_ID" REPOSITORY_VALUE="GOOGLE_PROJECT_ID" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="16" GROUP="CONN"
			SHOW_IF="(USE_EXISTING_CONNECTION=='false') AND (CONNECTION_MODE=='DATAPROC')">
			<DEFAULT>"my-google-project"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="GOOGLE_CLUSTER_ID" REPOSITORY_VALUE="GOOGLE_CLUSTER_ID" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="17" GROUP="CONN"
			SHOW_IF="(USE_EXISTING_CONNECTION=='false') AND (CONNECTION_MODE=='DATAPROC')">
			<DEFAULT>"my-cluster-id"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="GOOGLE_REGION" REPOSITORY_VALUE="GOOGLE_REGION" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="18" GROUP="CONN"
			SHOW_IF="(USE_EXISTING_CONNECTION=='false') AND (CONNECTION_MODE=='DATAPROC')">
			<DEFAULT>"global"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="GOOGLE_JARS_BUCKET" REPOSITORY_VALUE="GOOGLE_JARS_BUCKET" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="19" GROUP="CONN"
			SHOW_IF="(USE_EXISTING_CONNECTION=='false') AND (CONNECTION_MODE=='DATAPROC')">
			<DEFAULT>"gs://my-bucket/talend/jars"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="AUTH_TYPE" NUM_ROW="20" REQUIRED="true"
				   FIELD="CLOSED_LIST" GROUP="CONN"
				   SHOW_IF="(CONNECTION_MODE=='DATAPROC') AND (USE_EXISTING_CONNECTION=='false')">
			<ITEMS DEFAULT="USER_ACCOUNT_HMAC">
				<ITEM NAME="USER_ACCOUNT_HMAC" VALUE="USER_ACCOUNT_HMAC"/>
				<ITEM NAME="SERVICE_ACCOUNT" VALUE="SERVICE_ACCOUNT"/>
			</ITEMS>
		</PARAMETER>

	    <PARAMETER
			NAME="ACCESS_KEY" FIELD="TEXT" REQUIRED="true"
			NUM_ROW="20"  GROUP="CONN"
			SHOW_IF="(isShow[AUTH_TYPE]) AND (AUTH_TYPE=='USER_ACCOUNT_HMAC') AND (CONNECTION_MODE=='DATAPROC')">
	      <DEFAULT>""</DEFAULT>
	    </PARAMETER>
	    <PARAMETER
			NAME="SECRET_KEY" FIELD="PASSWORD" REQUIRED="true"
			NUM_ROW="21"  GROUP="CONN"
			SHOW_IF="(isShow[AUTH_TYPE]) AND (AUTH_TYPE=='USER_ACCOUNT_HMAC') AND (CONNECTION_MODE=='DATAPROC')">
	        <DEFAULT>""</DEFAULT>
	    </PARAMETER>

		<PARAMETER NAME="DEFINE_PATH_TO_GOOGLE_CREDENTIALS" FIELD="CHECK" REQUIRED="true"
			NUM_ROW="51" GROUP="AUTHENTICATION"
			SHOW_IF="(USE_EXISTING_CONNECTION=='false') AND (CONNECTION_MODE=='DATAPROC')">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="PATH_TO_GOOGLE_CREDENTIALS" FIELD="FILE" REQUIRED="true"
			NUM_ROW="51" GROUP="AUTHENTICATION"
			SHOW_IF="((isShow[DEFINE_PATH_TO_GOOGLE_CREDENTIALS]) AND DEFINE_PATH_TO_GOOGLE_CREDENTIALS=='true' AND CONNECTION_MODE=='DATAPROC')">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<!-- END GOOGLE DATAPROC -->

		<PARAMETER NAME="USE_PARQUET" FIELD="CHECK" NUM_ROW="25">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="QUERY" FIELD="MEMO_SQL" NUM_ROW="30">
			<DEFAULT>"select id, name from employee"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="DBNAME" FIELD="TEXT" NUM_ROW="35"
			REPOSITORY_VALUE="SID" REQUIRED="true">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
	</PARAMETERS>

	<ADVANCED_PARAMETERS>
		<PARAMETER NAME="ADVANCED_PROPERTIES" FIELD="TABLE"
			REQUIRED="false" NUM_ROW="55" NB_LINES="3">
			<ITEMS>
				<ITEM NAME="PROPERTY" />
				<ITEM NAME="VALUE" />
			</ITEMS>
		</PARAMETER>
		<PARAMETER NAME="SET_MEMORY" GROUP="MEMORY_PARAMETERS"
			FIELD="CHECK" NUM_ROW="80" REQUIRED="true">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="MAPREDUCE_MAP_MEMORY_MB" GROUP="MEMORY_PARAMETERS"
			FIELD="TEXT" REQUIRED="true" NUM_ROW="85"
			SHOW_IF="(isShow[SET_MEMORY]) AND SET_MEMORY=='true'">
			<DEFAULT>"1024"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="MAPREDUCE_REDUCE_MEMORY_MB" GROUP="MEMORY_PARAMETERS"
			FIELD="TEXT" REQUIRED="true" NUM_ROW="85"
			SHOW_IF="(isShow[SET_MEMORY]) AND SET_MEMORY=='true'">
			<DEFAULT>"1024"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="YARN_APP_MAPREDUCE_AM_RESOURCE_MB" GROUP="MEMORY_PARAMETERS"
			FIELD="TEXT" REQUIRED="true" NUM_ROW="85"
			SHOW_IF="(isShow[SET_MEMORY]) AND SET_MEMORY=='true'">
			<DEFAULT>"1024"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="INPUT_STREAM_NAME" FIELD="TEXT" SHOW="false"
			NUM_ROW="135">
			<DEFAULT>tHiveInputInTotFileInputDelimitedStream</DEFAULT>
		</PARAMETER>
	</ADVANCED_PARAMETERS>

	<CODEGENERATION>
		<IMPORTS>
			<!-- Dataproc 2.x -->	
			<IMPORT MODULE_GROUP="DATAPROC-LAUNCHER-DI" 
                   REQUIRED_IF="(USE_EXISTING_CONNECTION=='false') AND (CONNECTION_MODE=='DATAPROC')" REQUIRED="false"/>
            
            <!-- Spark universal 3.1.x -->
            <IMPORT MODULE_GROUP="UNIVERSAL-SPARK-3.1.X" 
                   REQUIRED_IF="(USE_EXISTING_CONNECTION=='false') AND (CONNECTION_MODE=='STANDALONE') AND DISTRIB[DISTRIBUTION, HIVE_VERSION].doSupportUniversalLocalMode[]" REQUIRED="false"/>	
		</IMPORTS>
	</CODEGENERATION>

	<RETURNS />
</COMPONENT>
